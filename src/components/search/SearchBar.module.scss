/* ===========================
   SearchBar.module.scss
   =========================== */

:root{
  --card: #fff;
  --focus-brd: color-mix(in oklab, #3b82f6 60%, transparent);
  --border: rgba(0,0,0,.12);
  --bgInput: #fff;

  --radius: 14px;
  --shadow-1: 0 1px 2px rgba(0,0,0,.06), 0 6px 18px rgba(0,0,0,.06);
  --shadow-2: 0 2px 8px rgba(0,0,0,.10), 0 20px 36px rgba(0,0,0,.10);
}

/* форма: інпут + кнопка в ряд (FLEX) */
.form{
  display: flex;
  align-items: center;
  gap: 12px;
  position: relative;
  flex-wrap: nowrap;
}

/* інпут у своєму відносному контейнері */
.inputWrap{
  position: relative;
  flex: 1 1 auto;     /* інпут займає всю доступну ширину */
  min-width: 0;       /* не дає контенту ламати ряд */
}

.input{
  width: 100%;
  height: 44px;
  padding: 0 48px 0 44px;
  border-radius: var(--radius);
  border: 1px solid var(--border);
  background: var(--bgInput);
  color: inherit;
  box-shadow: var(--shadow-1);
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;

  &::placeholder{ color: rgba(0,0,0,.45); }

  &:focus{
    border-color: var(--focus-brd, #3b82f6);
    box-shadow:
            0 1px 2px rgba(0,0,0,.06),
            0 8px 24px rgba(0,0,0,.08),
            0 0 0 3px color-mix(in oklab, var(--focus-brd, #3b82f6) 18%, transparent);
    background: #fff;
    outline: none;
  }
}

.icon{
  position: absolute; inset-block: 0; left: 14px;
  display:flex; align-items:center; pointer-events:none;
  font-size: 18px; opacity: .7;
}

.clear{
  position: absolute; inset-block: 0; right: 10px;
  display:flex; align-items:center; justify-content:center;
  width: 30px; border-radius: 8px;
  background: transparent; border: 0; cursor: pointer;
  color: inherit; opacity: .55;
  transition: background .15s ease, opacity .15s ease, transform .08s ease;

  &:hover{ background: rgba(0,0,0,.06); opacity: .9; }
  &:active{ transform: translateY(1px); }
}

/* кнопка submit праворуч від інпута */
.submit{
  flex: 0 0 auto;     /* фіксований розмір, не тисне інпут */
  height: 44px;
  padding: 0 18px;
  border-radius: var(--radius);
  white-space: nowrap;
  position: static;   /* на випадок глобальних .btn стилів */
  margin: 0;
}

/* ===== Dropdown ===== */
.dropdown{
  position: absolute;
  left: 0;
  top: calc(100% + 10px);
  width: 100%;
  max-inline-size: 760px;
  background: color-mix(in oklab, var(--card) 96%, transparent);
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 16px;
  box-shadow: var(--shadow-2);
  padding: 10px;
  z-index: 50;

  &::before{
    content:"";
    position:absolute; inset: -1px;
    border-radius: inherit;
    pointer-events:none;
    box-shadow: 0 0 0 1px rgba(255,255,255,.35) inset;
  }
}

.sectionTitle{
  font-size: .85rem;
  font-weight: 700;
  opacity: .7;
  margin: 2px 6px 8px;
}

/* ===== Chips (популярне) ===== */
.chips{
  display:flex; flex-wrap: wrap; gap: 8px;
}

.chip{
  border: 1px solid rgba(0,0,0,.12);
  background: rgba(0,0,0,.04);
  color: inherit;
  padding: 8px 12px;
  border-radius: 999px;
  font-weight: 700; font-size: .88rem;
  cursor: pointer;
  transition: background .15s ease, transform .08s ease, border-color .15s ease;

  &:hover{
    background: rgba(0,0,0,.08);
    border-color: rgba(0,0,0,.18);
  }
  &:active{ transform: translateY(1px); }
  &:focus-visible{
    outline: none;
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--focus-brd, #3b82f6) 25%, transparent);
  }
}

/* ===== Autocomplete list ===== */
.list{
  display:flex; flex-direction: column;
  padding: 4px;
  max-height: 50vh;
  overflow: auto;
  scrollbar-width: thin;
}

.item{
  text-align: left;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid transparent;
  background: transparent;
  cursor: pointer;
  color: inherit;
  transition: background .12s ease, border-color .12s ease;

  &:hover{ background: rgba(0,0,0,.05); }
}

.itemActive{
  background: rgba(0,0,0,.08);
  border-color: rgba(0,0,0,.18);
}

.empty{
  padding: 12px;
  opacity: .7;
}

/* ===== Адаптив ===== */
@media (max-width: 900px){
  .form{ gap: 10px; }
  .submit{ padding: 0 14px; }
  .dropdown{ max-inline-size: 640px; }
}
@media (max-width: 640px){
  .submit{ padding: 0 12px; height: 42px; }
  .input{ height: 42px; }
  .dropdown{ top: calc(100% + 8px); padding: 8px; }
}

/* менше рухів, якщо користувач просить */
@media (prefers-reduced-motion: reduce){
  .input, .clear, .item, .chip, .submit { transition: none !important; }
}
